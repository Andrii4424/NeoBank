<app-search 
[searchPlaceholder]="searchPlaceholder"
[sortValues]="sortValues"
[filterValues]="filterValues"
(sortChange)="onSortChange($event)"
(searchChange)="onSearchChange($event)"
(filterChange)="onFiltersChange($event)"
(filterChange)="onFiltersChange($event)"
>
</app-search>

<app-cards-layout></app-cards-layout>

<section class="card-tariffs">
    @for(card of cards?.items; track $index){
        <a [routerLink]="['/cards/info', card.id]" #card class="card" [style.background-color]="card.cardColor">
            <div class="card-info-divider">
                <div class="card-name">
                    <img class="card-bank-logo" src="assets/images/bank-logo.png" alt="">
                    <h1>{{card.cardName}}</h1>
                </div>
                <div class="card-right-side">
                    <div class="payment-systems">
                        @if(card.enabledPaymentSystems?.includes(PaymentSystem.Visa)){
                            <img src="assets/images/bank-products/payment-systems/visa.svg" class="visa" alt="Mastercard">
                        }
                        @if(card.enabledPaymentSystems?.includes(PaymentSystem.Mastercard)){
                            <img src="assets/images/bank-products/payment-systems/mastercard.svg" alt="Mastercard">
                        }
                    </div>

                    <div>
                        @if(card.type===CardType.Credit){
                            <h4>Credit</h4>
                        }
                        @else if(card.type===CardType.Debit) {
                            <h4>Debit</h4>
                        }
                    </div>
                </div>
            </div>
        </a>
    }
</section>

<app-page-switcher 
[currentPage]="cards?.pageNumber"
[hasNextPage]="cards?.hasNextPage"
[hasPreviousPage]="cards?.hasPreviousPage"
[pageCount]="cards?.pageCount"
(pageChange)="onPageChange($event)"
> </app-page-switcher>